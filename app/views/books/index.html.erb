<% provide :title, 'すべての本' %>

<div class="container-fluid pt-3">
  <h1>すべての本</h1>
  <%= link_to '本を登録する', new_book_path, class: 'btn btn-primary' %>
</div>

<%= form_tag books_path, method: :get do %>
  <div class="my-2">
    <%= select_tag :tag_list, options_for_select(Book::TAGS), multiple: true, class: "enable-select2" %>
  </div>
  <div class="my-2">
    <%= text_field_tag :q, "", placeholder: "キーワード" %>
  </div>
  <%= submit_tag "Search", class: "btn btn-outline-info btn-sm" %>
<% end %>

<div class="mb-3">
<table class="table table-hover">
  <thead>
    <tr>
      <th>"本のイメージ”</th>
      <th>"本の名前"</th>
      <th>”作成日時”</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <%= paginate @books %>
    <% @books.each do |book| %>
    <tr>
      <td><%= img_tag(book) %></td>
      <td><%= link_to book.name, book %></td>
      <td><%= book.created_at %></td>
      <td>
      <%= link_to '編集', edit_book_path(book), class: 'btn btn-primary mr-3' %>
      <%= link_to '削除', book, method: :delete, data: { confirm: "本「#{book.name}」を削除します。よろしいですか？" }, class: 'btn btn-danger' %>
      </td>
    </tr>
  </tbody>
  <% end %>
</table>
  <%= paginate @books %>
